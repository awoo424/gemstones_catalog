{"remainingRequest":"/Users/angelwoo/Documents/GitHub/gemstones_catalog/node_modules/babel-loader/lib/index.js!/Users/angelwoo/Documents/GitHub/gemstones_catalog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/angelwoo/Documents/GitHub/gemstones_catalog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/angelwoo/Documents/GitHub/gemstones_catalog/src/views/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/angelwoo/Documents/GitHub/gemstones_catalog/src/views/Admin.vue","mtime":1584531729740},{"path":"/Users/angelwoo/Documents/GitHub/gemstones_catalog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/angelwoo/Documents/GitHub/gemstones_catalog/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/angelwoo/Documents/GitHub/gemstones_catalog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/angelwoo/Documents/GitHub/gemstones_catalog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDb3VudHJ5SW5wdXQgZnJvbSAiQC9jb21wb25lbnRzL0NvdW50cnlJbnB1dC52dWUiOwoKdmFyIGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRtaW4iLAogIGNvbXBvbmVudHM6IHsKICAgIENvdW50cnlJbnB1dDogQ291bnRyeUlucHV0CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcmV2aWV3SW1hZ2U6IGZ1bmN0aW9uIHByZXZpZXdJbWFnZShldmVudCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gUmVmZXJlbmNlIHRvIHRoZSBET00gaW5wdXQgZWxlbWVudAogICAgICB2YXIgaW5wdXQgPSBldmVudC50YXJnZXQ7IC8vIEVuc3VyZSB0aGF0IHlvdSBoYXZlIGEgZmlsZSBiZWZvcmUgYXR0ZW1wdGluZyB0byByZWFkIGl0CgogICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHsKICAgICAgICAvLyBjcmVhdGUgYSBuZXcgRmlsZVJlYWRlciB0byByZWFkIHRoaXMgaW1hZ2UgYW5kIGNvbnZlcnQgdG8gYmFzZTY0IGZvcm1hdAogICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOyAvLyBEZWZpbmUgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBydW4sIHdoZW4gRmlsZVJlYWRlciBmaW5pc2hlcyBpdHMgam9iCgogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgLy8gTm90ZTogYXJyb3cgZnVuY3Rpb24gdXNlZCBoZXJlLCBzbyB0aGF0ICJ0aGlzLmltYWdlRGF0YSIgcmVmZXJzIHRvIHRoZSBpbWFnZURhdGEgb2YgVnVlIGNvbXBvbmVudAogICAgICAgICAgLy8gUmVhZCBpbWFnZSBhcyBiYXNlNjQgYW5kIHNldCB0byBpbWFnZURhdGEKICAgICAgICAgIF90aGlzLmdlbXN0b25lLmltYWdlZmlsZSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICB9OyAvLyBTdGFydCB0aGUgcmVhZGVyIGpvYiAtIHJlYWQgZmlsZSBhcyBhIGRhdGEgdXJsIChiYXNlNjQgZm9ybWF0KQoKCiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pOwogICAgICB9CiAgICB9LAogICAgLy8gR2V0cyB0aGUgY2hlY2tib3ggaW5mb3JtYXRpb24gZnJvbSB0aGUgY2hpbGQgY29tcG9uZW50CiAgICBzZWxlY3RlZENvdW50cmllczogZnVuY3Rpb24gc2VsZWN0ZWRDb3VudHJpZXMocGFyYW1zKSB7CiAgICAgIHRoaXMuZ2Vtc3RvbmUuY291bnRyaWVzID0gcGFyYW1zOwogICAgICBjb25zb2xlLmxvZygiSGVsbG8iKTsKICAgICAgY29uc29sZS5sb2cocGFyYW1zKTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMubmFtZSB8fCAhdGhpcy5zY2luYW1lKSB7CiAgICAgICAgY29uc29sZS5sb2coIkhlbGxvIik7CiAgICAgICAgdGhpcy4kcmVmcy5zbmFja2Jhci5lcnJvcigiRm9ybSBpbmNvbXBsZXRlIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXhpb3MucG9zdCgiaHR0cHM6Ly9nZW1zdG9uZXMtY2F0YWxvZy5maXJlYmFzZWlvLmNvbS9nZW1zdG9uZXMuanNvbiIsIHRoaXMuZ2Vtc3RvbmUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgICAgX3RoaXMyLiRyZWZzLnNuYWNrYmFyLmluZm8oIlN1Ym1pc3Npb24gc3VjY2Vzc2Z1bCIpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwoKICAgICAgICAgIF90aGlzMi4kcmVmcy5zbmFja2Jhci5lcnJvcigiU3VibWlzc2lvbiBmYWlsZWQiKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5hbWVTdGF0ZTogZnVuY3Rpb24gbmFtZVN0YXRlKCkgewogICAgICByZXR1cm4gdGhpcy5nZW1zdG9uZS5uYW1lLmxlbmd0aCA+IDIgPyB0cnVlIDogZmFsc2U7CiAgICB9LAogICAgc2NpbmFtZVN0YXRlOiBmdW5jdGlvbiBzY2luYW1lU3RhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmdlbXN0b25lLnNjaW5hbWUubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBnZW1zdG9uZTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHNjaW5hbWU6ICIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICBpbWFnZWZpbGU6ICIiLAogICAgICAgIGNvdW50cmllczogW10sCiAgICAgICAgc3ltYm9saXNtOiBbImxvdmUiLCAicGVhY2UiXQogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA,OAAA,YAAA,MAAA,+BAAA;;AAEA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA;AADA,GAFA;AAKA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,sBAAA,KAAA,EAAA;AAAA;;AACA;AACA,UAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAFA,CAGA;;AACA,UAAA,KAAA,CAAA,KAAA,IAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA,EAAA;AACA;AACA,YAAA,MAAA,GAAA,IAAA,UAAA,EAAA,CAFA,CAGA;;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA;AACA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,SAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,SAJA,CAJA,CASA;;;AACA,QAAA,MAAA,CAAA,aAAA,CAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AACA,KAjBA;AAkBA;AACA,IAAA,iBAAA,EAAA,2BAAA,MAAA,EAAA;AACA,WAAA,QAAA,CAAA,SAAA,GAAA,MAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,KAvBA;AAwBA,IAAA,MAAA,EAAA,kBAAA;AAAA;;AACA,UAAA,CAAA,KAAA,IAAA,IAAA,CAAA,KAAA,OAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,aAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,iBAAA;AACA,OAHA,MAGA;AACA,QAAA,KAAA,CACA,IADA,CAEA,yDAFA,EAGA,KAAA,QAHA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,uBAAA;AACA,SARA,EASA,KATA,CASA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,mBAAA;AACA,SAZA;AAaA;AACA;AA3CA,GALA;AAkDA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA,KAAA,QAAA,CAAA,IAAA,CAAA,MAAA,GAAA,CAAA,GAAA,IAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AACA,aAAA,KAAA,QAAA,CAAA,OAAA,CAAA,MAAA,GAAA,CAAA,GAAA,IAAA,GAAA,KAAA;AACA;AANA,GAlDA;AA0DA,EAAA,IA1DA,kBA0DA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,WAAA,EAAA,EAHA;AAIA,QAAA,SAAA,EAAA,EAJA;AAKA,QAAA,SAAA,EAAA,EALA;AAMA,QAAA,SAAA,EAAA,CAAA,MAAA,EAAA,OAAA;AANA,OADA;AASA,MAAA,SAAA,EAAA;AATA,KAAA;AAWA;AAtEA,CAAA","sourcesContent":["<template>\n  <b-col class=\"admin\">\n    <b-card-group deck>\n      <!-- Add card -->\n      <b-card id=\"add-title\" title=\"Add a gemstone\">\n        <b-card-text id=\"add-card\">\n          <!-- Name -->\n          <b-form-group\n            id=\"gemstone-name\"\n            label-cols-sm=\"12\"\n            label-cols-lg=\"3\"\n            label=\"Name\"\n            label-for=\"input-name\"\n            class=\"pt-lg-3\"\n          >\n            <b-form-input\n              id=\"input-name\"\n              v-model=\"gemstone.name\"\n              :state=\"nameState\"\n              aria-describedby=\"name-feedback\"\n            ></b-form-input>\n            <b-form-invalid-feedback id=\"name-feedback\">This is a required field.</b-form-invalid-feedback>\n          </b-form-group>\n\n          <!-- Sciname -->\n          <b-form-group\n            id=\"gemstone-sciname\"\n            label-cols-sm=\"12\"\n            label-cols-lg=\"3\"\n            description=\"Chemical formula of the gemstone.\"\n            label=\"Scientific name\"\n            label-for=\"input-sciname\"\n          >\n            <b-form-input\n              id=\"input-sciname\"\n              v-model=\"gemstone.sciname\"\n              :state=\"scinameState\"\n              aria-describedby=\"sciname-feedback\"\n            ></b-form-input>\n            <b-form-invalid-feedback id=\"name-feedback\">This is a required field.</b-form-invalid-feedback>\n          </b-form-group>\n\n          <!-- Description -->\n          <b-row class=\"mt-2\">\n            <b-col md=\"12\" lg=\"3\">\n              <label for=\"textarea-small\">Description</label>\n            </b-col>\n            <b-col md=\"12\" lg=\"9\">\n              <b-form-textarea\n                v-model=\"gemstone.description\"\n                id=\"textarea-small\"\n                size=\"sm\"\n                placeholder=\"Add description\"\n              ></b-form-textarea>\n            </b-col>\n          </b-row>\n\n          <div class=\"py-3\"></div>\n\n          <!-- Image file -->\n          <b-form-file\n            v-model=\"gemstone.imagefile\"\n            placeholder=\"Choose a file or drop it here\"\n            drop-placeholder=\"Drop file here...\"\n            type=\"file\"\n            @change=\"previewImage\"\n            accept=\"image/*\"\n          ></b-form-file>\n          <div class=\"py-3\"></div>\n\n          <!-- Place of origin -->\n          <CountryInput @country-list=\"selectedCountries\"></CountryInput>\n\n          <div class=\"py-3\"></div>\n          <!-- Symbolism -->\n          <b-form-group\n            id=\"gemstone-symbolism\"\n            label-cols-sm=\"12\"\n            label-cols-lg=\"3\"\n            label=\"Symbolism\"\n            label-for=\"input-symbolism\"\n          >\n            <b-form-tags\n              input-id=\"tags-remove-on-delete\"\n              :input-attrs=\"{ 'aria-describedby': 'tags-remove-on-delete-help' }\"\n              v-model=\"gemstone.symbolism\"\n              tag-variant=\"light\"\n              separator=\" \"\n              placeholder=\"Enter tags separated by space\"\n              size=\"sm\"\n              remove-on-delete\n              no-add-on-enter\n              class=\"mb-2\"\n            ></b-form-tags>\n            <b-form-text id=\"tags-remove-on-delete-help\">\n              Press\n              <kbd>BACKSPACE</kbd> to remove the last tag entered\n            </b-form-text>\n          </b-form-group>\n        </b-card-text>\n        <template v-slot:footer class=\"card-footer\">\n          <b-button variant=\"danger\">Clear</b-button>\n          <span class=\"px-1\"></span>\n          <b-button v-on:click.prevent=\"submit\" variant=\"success\">Confirm</b-button>\n        </template>\n      </b-card>\n\n      <!-- Preview card -->\n      <b-card id=\"preview-card\" header-tag=\"header\">\n        <template v-slot:header>\n          <h6 class=\"mb-0\">Preview</h6>\n        </template>\n        <b-card-text>\n          <div v-if=\"gemstone.imagefile.length\">\n            <b-img\n              class=\"my-0 mx-0 px-0\"\n              :src=\"gemstone.imagefile\"\n              fluid-grow\n              alt=\"Fluid-grow image\"\n            ></b-img>\n          </div>\n          <div class=\"preview-content\">\n            <div class=\"preview-name\">\n              <h3>{{ gemstone.name }}</h3>\n            </div>\n            <div v-if=\"gemstone.sciname.length\">\n              <p>\n                <strong>Scientific name:</strong>\n                {{ gemstone.sciname }}\n              </p>\n            </div>\n            <div v-if=\"gemstone.description.length\">\n              <p>\n                <strong>Description:</strong>\n                {{ gemstone.description }}\n              </p>\n            </div>\n            <div v-if=\"gemstone.countries.length\">\n              <span class=\"pr-2\">\n                <strong>Place of origin:</strong>\n              </span>\n              <ul>\n                <li v-for=\"country in gemstone.countries\" v-bind:key=\"country.id\">{{ country.name }}</li>\n              </ul>\n            </div>\n            <div v-if=\"gemstone.symbolism.length\">\n              <span class=\"pr-2\">\n                <strong>Symbolism:</strong>\n              </span>\n              <b-badge\n                v-for=\"sym in gemstone.symbolism\"\n                v-bind:key=\"sym.id\"\n                class=\"preview-tags\"\n              >{{ sym }}</b-badge>\n            </div>\n          </div>\n        </b-card-text>\n      </b-card>\n    </b-card-group>\n\n    <!-- Submission snackbar -->\n    <snackbar baseSize=\"7rem\" ref=\"snackbar\" :holdTime=\"5000\" position=\"bottom-right\" />\n  </b-col>\n</template>\n\n<script>\nimport CountryInput from \"@/components/CountryInput.vue\";\n\nconst axios = require(\"axios\");\n\nexport default {\n  name: \"Admin\",\n  components: {\n    CountryInput\n  },\n  methods: {\n    previewImage: function(event) {\n      // Reference to the DOM input element\n      var input = event.target;\n      // Ensure that you have a file before attempting to read it\n      if (input.files && input.files[0]) {\n        // create a new FileReader to read this image and convert to base64 format\n        var reader = new FileReader();\n        // Define a callback function to run, when FileReader finishes its job\n        reader.onload = e => {\n          // Note: arrow function used here, so that \"this.imageData\" refers to the imageData of Vue component\n          // Read image as base64 and set to imageData\n          this.gemstone.imagefile = e.target.result;\n        };\n        // Start the reader job - read file as a data url (base64 format)\n        reader.readAsDataURL(input.files[0]);\n      }\n    },\n    // Gets the checkbox information from the child component\n    selectedCountries: function(params) {\n      this.gemstone.countries = params;\n      console.log(\"Hello\");\n      console.log(params);\n    },\n    submit: function() {\n      if (!this.name || !this.sciname) {\n        console.log(\"Hello\");\n        this.$refs.snackbar.error(\"Form incomplete\");\n      } else {\n        axios\n          .post(\n            \"https://gemstones-catalog.firebaseio.com/gemstones.json\",\n            this.gemstone\n          )\n          .then(response => {\n            console.log(response);\n            this.$refs.snackbar.info(\"Submission successful\");\n          })\n          .catch(error => {\n            console.log(error);\n            this.$refs.snackbar.error(\"Submission failed\");\n          });\n      }\n    }\n  },\n  computed: {\n    nameState() {\n      return this.gemstone.name.length > 2 ? true : false;\n    },\n    scinameState() {\n      return this.gemstone.sciname.length > 0 ? true : false;\n    }\n  },\n  data() {\n    return {\n      gemstone: {\n        name: \"\",\n        sciname: \"\",\n        description: \"\",\n        imagefile: \"\",\n        countries: [],\n        symbolism: [\"love\", \"peace\"]\n      },\n      submitted: false\n    };\n  }\n};\n</script>\n\n<style>\n.admin * {\n  box-sizing: border-box;\n}\n\n#add-card * {\n  text-align: left;\n}\n\n#add-title h4 {\n  font-weight: 500;\n}\n\n#preview-card {\n  text-align: left;\n}\n\n.preview-content {\n  padding: 1.25rem;\n}\n\n#preview-card .preview-name {\n  text-align: center;\n}\n\n#preview-card strong {\n  font-weight: 500;\n}\n\n.preview-tags {\n  padding: 0.4rem;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  margin-right: 0.4rem;\n  font-size: 0.8rem;\n  text-transform: capitalize;\n}\n\n.badge-secondary {\n  background-color: pink !important;\n  color: #343a40 !important;\n}\n\n.admin {\n  margin: 20px auto;\n}\n\n/* label {\n  display: block;\n  margin-top: 10px;\n} */\n\n.col-form-label,\nlabel {\n  font-weight: 500;\n}\n\ninput[type=\"text\"],\ntextarea {\n  display: block;\n  width: 100%;\n}\n\nkbd {\n  background-color: #b3b3b3;\n}\n\n#preview-card .card-body {\n  padding: 0;\n}\n\n.card-footer {\n  text-align: right;\n}\n\n.admin img {\n  /* max-height: 30%; */\n  width: 100%;\n  height: 250px;\n  object-fit: cover;\n}\n\n.snack-bar {\n  border-radius: 0.2rem;\n  box-shadow: 4px -1px 10px 0px rgba(219, 212, 219, 0.65);\n}\n</style>\n"],"sourceRoot":"src/views"}]}